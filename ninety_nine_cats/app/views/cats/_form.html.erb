<%
if type == :new
    header_text = "CREATE NEW A CAT"
    action = cats_url
    button_text = "Submit"
elsif type == :edit 
    header_text = "EDIT A CAT"
    action = cat_url(cat)
    button_text = "Edit"
end
%>


<h1><%= header_text %></h1>
<form action="<%= action %>" method="post">
<% if type == :edit %>
    <input type="hidden" name="_method" value="patch">
<% end %>
  <label> Name:
    <input type="text" name="cat[name]" value="<%= cat.name%>">
  </label>
  <label> Color:
    <select name="cat[color]">
        <option disabled <%= cat.color ? "" : "selected" %>>Please select a color</option>
        <option value="red" <%= cat.color == "red" && type == :edit ? "selected" : "" %> >red</option>
        <option value="orange" <%= cat.color == "orange" && type == :edit ? "selected" : "" %> >orange</option>
        <option value="blue" <%= cat.color == "blue" && type == :edit ? "selected" : "" %> >blue</option>
        <option value="green" <%= cat.color == "green" && type == :edit ? "selected" : "" %>>green</option>
    </select>
  </label>
  <label> Sex:
    <input type="radio" name="cat[sex]" value="F" <%= cat.sex == "F" && type == :edit ? "checked" : "" %>> Female
    <input type="radio" name="cat[sex]" value="M" <%= cat.sex == "M" && type == :edit ? "checked" : "" %>> Male
  </label>
  <label> Birth Date:
    <input type="date" name="cat[birth_date]" value="<%= cat.birth_date%>">
  </label>
  <label> Description:
  <textarea name="cat[description]"><%= cat.description%></textarea>
  </label>
  <input type="submit" value="<%= button_text %>">
</form> 